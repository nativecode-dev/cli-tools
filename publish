#!/bin/bash

MODE=$1
LERNA=./node_modules/.bin/lerna

git checkout package.json
git status

export DEBUG=*

case $MODE in
"canary")
    ${LERNA} publish --canary --conventional-commits --yes
    ;;
"release")
    ${LERNA} publish --conventional-commits --create-release gitlab --dist-tag latest --yes
    ;;
"prerelease")
    ${LERNA} publish -c --conventional-commits --dist-tag next --preid next --yes
    ;;
esac
