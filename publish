#!/bin/bash

MODE=$1
LERNA=./node_modules/.bin/lerna

git checkout package.json
# git commit -m "chore: version package"

case $MODE in
"canary")
    ${LERNA} version --canary --conventional-commits --yes
    ;;
"release")
    ${LERNA} version --conventional-commits --create-release gitlab --dist-tag latest --yes
    ;;
"prerelease")
    ${LERNA} version --conventional-commits --dist-tag next --preid next --yes
    ;;
esac

${LERNA} publish from-git
