#!/bin/bash

MODE=$1
LERNA=./node_modules/.bin/lerna

git add package.json
git commit -m "chore: version package"
git status

case $MODE in
"canary")
    ${LERNA} publish --canary --conventional-commits --yes
    ;;
"release")
    ${LERNA} publish -c --conventional-commits --create-release gitlab --dist-tag latest --yes
    ;;
"prerelease")
    ${LERNA} publish -c --conventional-commits --dist-tag next --preid next --yes
    ;;
esac
