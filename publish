#!/bin/bash

set -e

MODE=$1
LERNA=./node_modules/.bin/lerna

case $MODE in
"canary")
    ${LERNA} publish --canary
    ;;
"release")
    ${LERNA} version --conventional-commits
    ${LERNA} publish --create-release gitlab --dist-tag latest
    ;;
"prerelease")
    ${LERNA} version --conventional-commits
    ${LERNA} publish --dist-tag next --preid next
    ;;
esac
